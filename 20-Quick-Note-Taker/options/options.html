<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Quick Notes Settings</title>
<style>:root{--bg:#0f172a;--bg2:#1e293b;--text:#fff;--text2:#94a3b8;--primary:#fbbf24}*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,sans-serif;background:var(--bg);color:var(--text);padding:40px;max-width:800px;margin:0 auto}h1{margin-bottom:32px}.stats{display:flex;gap:16px;margin-bottom:32px}.stat{flex:1;text-align:center;padding:24px;background:var(--bg2);border-radius:12px}.stat h2{font-size:32px;color:var(--primary);margin-bottom:4px}.stat p{font-size:12px;color:var(--text2)}.card{background:var(--bg2);padding:24px;border-radius:12px;margin-bottom:24px}.notes-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:16px}.note-card{background:var(--bg);padding:16px;border-radius:10px;border-left:3px solid var(--primary)}.note-title{font-size:14px;font-weight:500;margin-bottom:8px}.note-preview{font-size:12px;color:var(--text2);line-height:1.5}.note-footer{display:flex;justify-content:space-between;margin-top:12px;font-size:11px;color:var(--text2)}.btn{padding:8px 16px;border:none;border-radius:6px;cursor:pointer;font-size:12px}.btn-primary{background:var(--primary);color:#000}.btn-danger{background:#ef4444;color:#fff}.header-actions{display:flex;gap:12px;margin-bottom:16px}.about{text-align:center;padding:32px}.about a{color:var(--primary)}</style></head>
<body><h1>üìù Quick Notes Settings</h1>
<div class="stats">
<div class="stat"><h2 id="totalNotes">0</h2><p>Total Notes</p></div>
<div class="stat"><h2 id="totalWords">0</h2><p>Total Words</p></div>
</div>
<div class="card">
<div class="header-actions">
<button class="btn btn-primary" id="exportBtn">üì• Export All</button>
<button class="btn btn-danger" id="clearBtn">üóëÔ∏è Clear All</button>
</div>
<div class="notes-grid" id="notesGrid"></div>
</div>
<div class="card about"><h2>Quick Note Taker v1.0.0</h2><p style="margin:16px 0">Take notes while browsing</p><p><a href="https://github.com/idvhridoy">GitHub</a> | <a href="https://buymeacoffee.com/hridoythebest">Support</a></p><p style="margin-top:16px">¬© 2024 Md Hridoy Hossain</p></div>
<script>
async function load() {
  const { notes = [] } = await chrome.storage.local.get('notes');
  document.getElementById('totalNotes').textContent = notes.length;
  document.getElementById('totalWords').textContent = notes.reduce((sum, n) => sum + (n.content.split(/\s+/).length || 0), 0);
  
  document.getElementById('notesGrid').innerHTML = notes.length ? notes.map(n => `
    <div class="note-card">
      <div class="note-title">${n.content.split('\n')[0].slice(0, 40) || 'Untitled'}</div>
      <div class="note-preview">${n.content.slice(0, 100)}${n.content.length > 100 ? '...' : ''}</div>
      <div class="note-footer">
        <span>${new Date(n.updated).toLocaleDateString()}</span>
        <button class="btn btn-danger" data-id="${n.id}" style="padding:4px 8px">Delete</button>
      </div>
    </div>
  `).join('') : '<p style="text-align:center;color:var(--text2);padding:40px;grid-column:1/-1">No notes yet</p>';
  
  document.querySelectorAll('[data-id]').forEach(btn => {
    btn.onclick = async () => {
      const { notes } = await chrome.storage.local.get('notes');
      await chrome.storage.local.set({ notes: notes.filter(n => n.id !== btn.dataset.id) });
      load();
    };
  });
}
document.getElementById('exportBtn').onclick = async () => {
  const { notes = [] } = await chrome.storage.local.get('notes');
  const text = notes.map(n => `# ${n.content.split('\n')[0]}\n${n.content}\n---`).join('\n\n');
  const blob = new Blob([text], { type: 'text/markdown' });
  const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'notes.md'; a.click();
};
document.getElementById('clearBtn').onclick = async () => {
  if (confirm('Delete all notes?')) { await chrome.storage.local.set({ notes: [] }); load(); }
};
load();
</script></body></html>
