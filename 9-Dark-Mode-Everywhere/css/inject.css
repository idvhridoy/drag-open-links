/**
 * Dark Mode Everywhere - Base Injection Styles
 * These styles are injected early to prevent white flash
 */

/* Early dark mode placeholder - will be overridden by JS */
html.dark-mode-everywhere {
  background-color: #1a1a1a !important;
  color: #e8e8e8 !important;
  color-scheme: dark !important;
}

html.dark-mode-everywhere body {
  background-color: #1a1a1a !important;
  color: #e8e8e8 !important;
}

/* Smooth transition when toggling */
html.dark-mode-everywhere * {
  transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
}

/* Preserve important elements */
html.dark-mode-everywhere [data-dme-preserve="true"] {
  filter: none !important;
  background-color: inherit !important;
  color: inherit !important;
}

/* Video and media preservation */
html.dark-mode-everywhere video,
html.dark-mode-everywhere [class*="video-player"],
html.dark-mode-everywhere [class*="VideoPlayer"] {
  filter: brightness(0.95) !important;
}

/* Image handling */
html.dark-mode-everywhere img:not([src*=".svg"]) {
  filter: brightness(0.9) contrast(1.05) !important;
}

/* SVG icons */
html.dark-mode-everywhere svg {
  filter: none !important;
}

/* Syntax highlighting preservation */
html.dark-mode-everywhere .hljs,
html.dark-mode-everywhere .prism,
html.dark-mode-everywhere .shiki,
html.dark-mode-everywhere [class*="syntax-"],
html.dark-mode-everywhere [class*="code-"] {
  filter: none !important;
}

/* Canvas and WebGL */
html.dark-mode-everywhere canvas {
  filter: none !important;
}

/* Map embeds */
html.dark-mode-everywhere [class*="map"],
html.dark-mode-everywhere [class*="Map"],
html.dark-mode-everywhere iframe[src*="maps"] {
  filter: invert(0.9) hue-rotate(180deg) !important;
}

/* PDF viewers */
html.dark-mode-everywhere [class*="pdf"],
html.dark-mode-everywhere [class*="PDF"],
html.dark-mode-everywhere embed[type="application/pdf"] {
  filter: invert(0.85) hue-rotate(180deg) !important;
}

/* Loading indicator */
html.dark-mode-everywhere::before {
  display: none;
}
